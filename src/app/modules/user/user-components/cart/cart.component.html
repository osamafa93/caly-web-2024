<section class="cart-section white-bg">
    <div *ngIf="loaddatashow==1" class="card-body pt-0 pb-0">
        <div class="No-data-foun">
            <div class="container">
                <p>{{ 'No_data_found' | translate }}</p>
                <div class="ntfnd"><img src="assets/images/record_not_found.jpg" alt="img 1"></div>
            </div>
        </div>
    </div>
    <div *ngIf="loaddatashow==0" class="container">
        <div class="ttlcrt-item">
            <h3>{{myCartCount}} {{ 'items' | translate }}</h3>
        </div>
        <div class="cart-main">
            <div class="crtflx-inner wdth-60">
                <div class="cartprdct-list">
                    <ul>
                        <li *ngFor="let cl of cartlist">
                            <div class="cart-card">
                                <div class="crtprd-img">
                                    <span style="background-image: url({{cl.product_image}});"></span>
                                </div>
                                <div class="crtpr-dtl">
                                    <div class="crt-tp">
                                        <h3>{{cl.product_name}}</h3>
                                        <p>{{ 'Product_code' | translate }}: {{cl.product_reference_id}}</p>
                                    </div>

                                    <div class="crt-mid">
                                        <p>{{ 'Color' | translate }}: <span>{{cl.color_name}}</span></p>
                                    </div> 
                                    <div class="crt-btm">
                                        <div *ngIf="cl.offer_price >0" class="btm-prdctdtl">
                                            <h4   class="ofr-prc">
                                                <span  class="ofr-icon">
                                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M16.8843 8.99999L17.8791 7.28072C17.9986 7.07387 18.0311 6.82801 17.9695 6.59719C17.9078 6.36637 17.757 6.16949 17.5502 6.04984L15.8292 5.05505V3.07267C15.8292 2.83368 15.7342 2.60449 15.5652 2.43551C15.3963 2.26652 15.1671 2.17158 14.9281 2.17158H12.9467L11.9528 0.451418C11.8328 0.244994 11.6363 0.0941432 11.4059 0.0315131C11.2916 0.000530189 11.1723 -0.00745889 11.0549 0.00800889C10.9375 0.0234767 10.8244 0.0620938 10.722 0.121621L9.00098 1.11642L7.27996 0.12072C7.07301 0.00123464 6.82707 -0.0311454 6.59625 0.030703C6.36542 0.0925513 6.16862 0.243562 6.04913 0.450517L5.05436 2.17158H3.07294C2.83397 2.17158 2.60478 2.26652 2.4358 2.43551C2.26682 2.60449 2.17189 2.83368 2.17189 3.07267V5.05415L0.450879 6.04894C0.348188 6.10801 0.25818 6.18679 0.186027 6.28076C0.113874 6.37472 0.0609984 6.48201 0.0304372 6.59648C-0.000123976 6.71094 -0.007768 6.83031 0.00794428 6.94774C0.0236566 7.06516 0.0624154 7.17832 0.121994 7.28072L1.11676 8.99999L0.121994 10.7193C0.00304489 10.9263 -0.029228 11.172 0.0322117 11.4027C0.0936513 11.6335 0.24382 11.8306 0.449978 11.951L2.17099 12.9458V14.9273C2.17099 15.1663 2.26592 15.3955 2.4349 15.5645C2.60388 15.7335 2.83307 15.8284 3.07204 15.8284H5.05436L6.04913 17.5495C6.1289 17.6858 6.24279 17.7991 6.37961 17.8781C6.51643 17.9571 6.67146 17.9991 6.82944 18C6.98622 18 7.1421 17.9585 7.28087 17.8784L9.00008 16.8836L10.7211 17.8784C10.928 17.9977 11.1738 18.0301 11.4045 17.9684C11.6352 17.9067 11.8321 17.7561 11.9519 17.5495L12.9458 15.8284H14.9272C15.1662 15.8284 15.3954 15.7335 15.5643 15.5645C15.7333 15.3955 15.8283 15.1663 15.8283 14.9273V12.9458L17.5493 11.951C17.6518 11.8918 17.7416 11.8129 17.8136 11.7189C17.8857 11.625 17.9384 11.5177 17.969 11.4033C17.9995 11.2889 18.0072 11.1696 17.9916 11.0522C17.9761 10.9349 17.9375 10.8217 17.8782 10.7193L16.8843 8.99999ZM6.74744 4.48556C7.10602 4.48568 7.44987 4.62825 7.70334 4.8819C7.95681 5.13554 8.09914 5.4795 8.09902 5.83809C8.0989 6.19668 7.95634 6.54054 7.7027 6.79402C7.44906 7.0475 7.10512 7.18983 6.74654 7.18971C6.38796 7.18959 6.04411 7.04703 5.79064 6.79338C5.53717 6.53973 5.39484 6.19578 5.39496 5.83719C5.39508 5.4786 5.53764 5.13474 5.79128 4.88126C6.04492 4.62778 6.38886 4.48544 6.74744 4.48556ZM7.01776 13.136L5.57607 12.0556L10.9824 4.8469L12.4241 5.9273L7.01776 13.136ZM11.2527 13.4964C11.0752 13.4963 10.8994 13.4613 10.7353 13.3933C10.5713 13.3253 10.4223 13.2256 10.2968 13.1001C10.1713 12.9745 10.0718 12.8254 10.0039 12.6613C9.93598 12.4973 9.90107 12.3214 9.90113 12.1439C9.90119 11.9663 9.93622 11.7905 10.0042 11.6265C10.0722 11.4625 10.1719 11.3134 10.2974 11.1879C10.423 11.0624 10.5721 10.9629 10.7362 10.895C10.9002 10.8271 11.0761 10.7922 11.2536 10.7922C11.6122 10.7924 11.956 10.9349 12.2095 11.1886C12.463 11.4422 12.6053 11.7862 12.6052 12.1448C12.6051 12.5034 12.4625 12.8472 12.2089 13.1007C11.9552 13.3542 11.6113 13.4965 11.2527 13.4964Z"
                                                            fill="#2140f9" />
                                                    </svg>
                                                </span>
                                                {{cl.TotalDiscountPrice | desimalnumber}} SAR
                                            </h4>
                                            <p  class="cutprc-show">{{cl.TotalPrice | desimalnumber}} SAR</p>
                                        </div>
                                        <div *ngIf="cl.offer_price==0" class="btm-prdctdtl">
                                            
                                            <p  class="ofr-prc">{{cl.TotalPrice | desimalnumber}} SAR</p>
                                        </div>
                                        <div class="countincrs-btn">
                                            <span (click)="cartPlusminus('2',cl,cl.cart_id)"class="sub">-</span>
                                            <div class="count-inpu">
                                                <input type="text" class="form-control" value="{{cl.quantity}}"
                                                    placeholder="1 Carton" disabled>
                                                    
                                            </div>
                                            <span (click)="cartPlusminus('1',cl,cl.cart_id)" class="add">+</span>
                                        </div>
                                    </div>
                                </div>
                                <div (click)="DeleteItemfun(cl.cart_id)" class="countincrs-deleatbtn">
                                    <span class="remove-icon">
                                        <svg width="18" height="18" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path  d="M5.14286 6.96429C5.14286 6.78348 5.00223 6.64286 4.82143 6.64286H4.17857C3.99777 6.64286 3.85714 6.78348 3.85714 6.96429V12.75C3.85714 12.9308 3.99777 13.0714 4.17857 13.0714H4.82143C5.00223 13.0714 5.14286 12.9308 5.14286 12.75V6.96429ZM7.71429 6.96429C7.71429 6.78348 7.57366 6.64286 7.39286 6.64286H6.75C6.5692 6.64286 6.42857 6.78348 6.42857 6.96429V12.75C6.42857 12.9308 6.5692 13.0714 6.75 13.0714H7.39286C7.57366 13.0714 7.71429 12.9308 7.71429 12.75V6.96429ZM10.2857 6.96429C10.2857 6.78348 10.1451 6.64286 9.96429 6.64286H9.32143C9.14062 6.64286 9 6.78348 9 6.96429V12.75C9 12.9308 9.14062 13.0714 9.32143 13.0714H9.96429C10.1451 13.0714 10.2857 12.9308 10.2857 12.75V6.96429ZM11.5714 14.2366C11.5714 14.7188 11.3002 15 11.25 15H2.89286C2.84263 15 2.57143 14.7188 2.57143 14.2366V4.71429H11.5714V14.2366ZM4.82143 3.42857L5.31362 2.25335C5.34375 2.21317 5.42411 2.1529 5.48438 2.14286H8.66853C8.71875 2.1529 8.80915 2.21317 8.83929 2.25335L9.32143 3.42857H4.82143ZM14.1429 3.75C14.1429 3.5692 14.0022 3.42857 13.8214 3.42857H10.7176L10.0145 1.75112C9.81362 1.25893 9.21094 0.857142 8.67857 0.857142H5.46429C4.93192 0.857142 4.32924 1.25893 4.12835 1.75112L3.42522 3.42857H0.321429C0.140625 3.42857 0 3.5692 0 3.75V4.39286C0 4.57366 0.140625 4.71429 0.321429 4.71429H1.28571V14.2768C1.28571 15.3817 2.00893 16.2857 2.89286 16.2857H11.25C12.1339 16.2857 12.8571 15.3415 12.8571 14.2366V4.71429H13.8214C14.0022 4.71429 14.1429 4.57366 14.1429 4.39286V3.75Z" fill="#909090"></path>
                                        </svg>
                                    </span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="crtflx-inner wdth-40">
                <div class="cart-summry">
                    <div class="cupn-section">
                        <div class="lf-single">
                            <label class="label">{{ 'Apply_coupons' | translate }}</label>
                            <div class="cupninput-wthbtn">
                                <input type="text" [(ngModel)]="promocode"  name="" placeholder="{{ 'Do_you_have_promo_code' | translate }}" />
                                <div class="cupn-btn">
                                    <button (click)="applycouponfun()" class="btn main-btn">+ {{ 'Add' | translate }}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="crtmid-sumry">
                        <ul>
                            <li>
                                <p class="nrml-txt">{{ 'Cost_of_purchase' | translate }}</p>
                                <p class="nrml-bldtxt">{{sub_total | desimalnumber}} SAR </p>
                            </li>
                            <li>
                                <p class="nrml-txt">{{ 'Delivery_fees' | translate }}</p>
                                <p class="nrml-bldtxt">{{delivery_charges | desimalnumber}} SAR </p>
                            </li>
                            <li *ngIf="discount_coupon >0">
                                <p class="nrml-txt">{{ 'Discount_Price' | translate }}</p>
                                <p class="nrml-bldtxt">{{discount_coupon | desimalnumber}} SAR </p>
                            </li>
                            <li *ngIf="offer_price >0">
                                <p class="nrml-txt">{{ 'Offer_price' | translate }}</p>
                                <p class="nrml-bldtxt">- {{offer_price | desimalnumber}} SAR</p>
                            </li>
                            <li>
                                <p class="muted-text">{{ 'VAT_Included' | translate }} ({{vat_percentage}}%)</p>
                                <p class="muted-boldtext">{{vat_price | desimalnumber}} SAR</p>
                            </li>
                        </ul>
                    </div>
                    <div class="crt-ttlamnt">
                        <div class="subttl-amnt">
                            <h3>{{ 'Total' | translate }}</h3>
                            <h3>{{ total | desimalnumber}} SAR</h3>
                        </div>
                    </div>
                    <div class="crt-ftrbtn">
                       <button (click)="profilecheck()" class="btn main-btn">{{ 'Proceed_to_payment' | translate }}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>